---

# This compose file acts as an example on using docker volumes for nagios
# config_site1uration. As nagios config_site1urations are different for each site they are
# not concidered part of the container image. The best way to deal with the
# config_site1urations is to store them in a volume allowing the user to upgrade the
# image without the need to extract the site config_site1uration from the container.

version: '3'
services:
  nagios:
    environment:
      - ENV = DEV
      - SITE = testsite

    build: ./build-docker

    image: "jasonrivers/nagios:latest"

    ports:
      - "8000:80"
    volumes:
      - ./nagiosetc:/opt/nagios/etc
      - ./nagioslibexec:/opt/nagios/libexec
      #- ./nagiosvar:/opt/nagios/var
      - ./customplugins:/opt/Custom-Nagios-Plugins
      #- ./nagiosgraphvar:/opt/nagiosgraph/var
      #- ./nagiosgraphetc:/opt/nagiosgraph/etc




volumes:
    nagiosetc:
    nagiosvar:
    customplugins:
    nagiosgraphvar:
    nagiosgraphetc:
    nagioslibexec:
